#N canvas 492 171 678 512 10;
#X obj 184 35 loadbang;
#N canvas 972 366 503 576 calculateGraph 0;
#X obj 95 376 -;
#X obj 95 406 *;
#X obj 95 437 +;
#X obj 95 466 /;
#X obj 75 517 *;
#X obj 75 546 tabwrite \$0-curve;
#X obj 76 333 t f f f;
#X obj 76 241 f;
#X obj 110 241 + 1;
#X obj 76 209 until;
#X msg 76 186 100;
#X msg 121 210 0;
#X obj 76 295 / 100;
#X obj 76 263 t f f;
#X obj 174 441 t f;
#X obj 161 303 dbtorms;
#X obj 161 281 + 100;
#X obj 268 316 /;
#X obj 268 285 swap 1;
#X obj 76 156 t b b;
#X obj 76 125 del 50;
#X obj 390 56 route set;
#X obj 282 55 route set;
#X obj 95 489 clip 0 1;
#X obj 76 33 r \$0-thresh;
#X obj 184 33 r \$0-ratio;
#X obj 282 33 r \$0-thresh;
#X obj 390 32 r \$0-ratio;
#X obj 267 260 r \$0-ratio;
#X obj 161 260 r \$0-thresh;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 23 0;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 6 1 0 0;
#X connect 6 2 3 1;
#X connect 7 0 8 0;
#X connect 7 0 13 0;
#X connect 8 0 7 1;
#X connect 9 0 7 0;
#X connect 10 0 9 0;
#X connect 11 0 7 1;
#X connect 12 0 6 0;
#X connect 13 0 12 0;
#X connect 13 1 14 0;
#X connect 14 0 5 1;
#X connect 15 0 0 1;
#X connect 15 0 2 1;
#X connect 16 0 15 0;
#X connect 17 0 1 1;
#X connect 18 0 17 0;
#X connect 18 1 17 1;
#X connect 19 0 10 0;
#X connect 19 1 11 0;
#X connect 20 0 19 0;
#X connect 21 0 18 0;
#X connect 21 0 20 0;
#X connect 22 0 16 0;
#X connect 22 0 20 0;
#X connect 23 0 4 1;
#X connect 24 0 20 0;
#X connect 25 0 20 0;
#X connect 26 0 22 0;
#X connect 27 0 21 0;
#X connect 28 0 18 0;
#X connect 29 0 16 0;
#X restore 334 144 pd calculateGraph;
#N canvas 0 50 450 278 (subpatch) 0;
#X array \$0-curve 100 float 0;
#X coords 0 1 99 0 100 70 2 0 0;
#X restore 106 140 graph;
#X floatatom 214 141 5 -100 0 3 Thresh comp/t #0-thresh, f 5;
#X floatatom 259 141 5 1 100 3 Ratio comp/r #0-ratio, f 5;
#X floatatom 214 179 5 0 250 3 Resp comp/re #0-response, f 5;
#X floatatom 257 179 5 -80 20 3 Gain comp/g #0-gain, f 5;
#X text 28 18 PD Lookahead Compressor, f 13;
#N canvas 981 281 797 467 compressor1Core 0;
#X obj 239 418 outlet~;
#X obj 239 391 *~;
#X obj 332 74 /;
#X obj 332 52 swap 1;
#X obj 429 158 /;
#X obj 429 136 swap 1000;
#X obj 239 248 lop~;
#X obj 137 147 clip~ 0 1;
#X obj 426 355 line~;
#X obj 426 334 pack f 5;
#N canvas 591 100 402 283 peak 0;
#X obj 98 71 abs~;
#X obj 70 115 -~;
#X obj 70 137 *~;
#X obj 70 159 +~;
#X obj 90 199 /~;
#X obj 137 135 +~ 0;
#X obj 98 43 inlet~;
#X obj 90 221 outlet~;
#X text 47 42 Input;
#X text 62 72 Peak;
#X obj 180 42 inlet;
#X obj 239 42 inlet;
#X text 158 22 Thresold;
#X text 235 21 Ratio;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 0 0;
#X connect 10 0 1 1;
#X connect 10 0 3 1;
#X connect 11 0 2 1;
#X restore 137 115 pd peak;
#X obj 35 57 inlet~;
#X obj 426 289 + 100;
#X obj 426 312 dbtorms;
#X text 56 150 Clip signal;
#X text 84 249 Attack/release using LPF;
#X text 497 329 Make-up gain;
#X text 465 156 convert ms to frequency;
#X text 413 235 convert dBFS scale to Pd dB scale, f 18;
#X text 146 19 Convert dB FS to Pd db sclae and then linear amplitude
, f 15;
#X obj 332 31 r \$0-ratio;
#X obj 429 112 r \$0-response;
#X obj 426 267 r \$0-gain;
#X floatatom 376 338 5 0 0 0 - - -, f 5;
#X text 330 10 1/ratio, f 8;
#X obj 605 20 inlet;
#X obj 605 61 switch~;
#X obj 605 42 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 332 96 5 0 0 0 - - -, f 5;
#X floatatom 429 179 5 0 0 0 - - -, f 5;
#X connect 1 0 0 0;
#X connect 2 0 28 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 4 0 29 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 8 0 1 1;
#X connect 9 0 8 0;
#X connect 10 0 7 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 13 0 9 0;
#X connect 13 0 23 0;
#X connect 20 0 3 0;
#X connect 21 0 5 0;
#X connect 22 0 12 0;
#X connect 25 0 27 0;
#X connect 27 0 26 0;
#X connect 28 0 10 2;
#X connect 29 0 6 1;
#X restore 201 369 pd compressor1Core;
#X obj 107 296 inlet~;
#X obj 147 432 outlet~;
#X obj 270 106 tgl 20 1 empty comp/state 10 -22 11 0 16 -262144 -1
-1 0 1;
#X msg 200 70 0;
#X obj 153 17 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 147 407 sw2;
#X obj 303 70 s comp/t;
#X obj 366 72 s comp/r;
#X obj 430 70 s comp/re;
#X obj 504 67 s comp/g;
#X msg 266 15 threshold -2 \, ratio 2 \, response 40 \, gain 0;
#X obj 311 42 route threshold ratio response gain;
#X connect 0 0 19 0;
#X connect 0 0 12 0;
#X connect 8 0 14 1;
#X connect 9 0 8 0;
#X connect 9 0 14 0;
#X connect 11 0 8 1;
#X connect 11 0 14 2;
#X connect 12 0 11 0;
#X connect 13 0 19 0;
#X connect 14 0 10 0;
#X connect 19 0 20 0;
#X connect 20 0 15 0;
#X connect 20 1 16 0;
#X connect 20 2 17 0;
#X connect 20 3 18 0;
#X coords 0 -1 1 1 200 125 1 100 100;
