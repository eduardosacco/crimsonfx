#N canvas 326 343 678 512 10;
#X obj 199 13 loadbang;
#N canvas 972 366 503 576 calculateGraph 0;
#X obj 95 376 -;
#X obj 95 406 *;
#X obj 95 437 +;
#X obj 95 466 /;
#X obj 75 517 *;
#X obj 75 546 tabwrite \$0-curve;
#X obj 76 333 t f f f;
#X obj 76 241 f;
#X obj 110 241 + 1;
#X obj 76 209 until;
#X msg 76 186 100;
#X msg 121 210 0;
#X obj 76 295 / 100;
#X obj 76 263 t f f;
#X obj 174 441 t f;
#X obj 161 303 dbtorms;
#X obj 161 281 + 100;
#X obj 268 316 /;
#X obj 268 285 swap 1;
#X obj 76 156 t b b;
#X obj 76 125 del 50;
#X obj 390 56 route set;
#X obj 282 55 route set;
#X obj 95 489 clip 0 1;
#X obj 76 33 r \$0-thresh;
#X obj 184 33 r \$0-ratio;
#X obj 282 33 r \$0-thresh;
#X obj 390 32 r \$0-ratio;
#X obj 267 260 r \$0-ratio;
#X obj 161 260 r \$0-thresh;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 23 0;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 6 1 0 0;
#X connect 6 2 3 1;
#X connect 7 0 8 0;
#X connect 7 0 13 0;
#X connect 8 0 7 1;
#X connect 9 0 7 0;
#X connect 10 0 9 0;
#X connect 11 0 7 1;
#X connect 12 0 6 0;
#X connect 13 0 12 0;
#X connect 13 1 14 0;
#X connect 14 0 5 1;
#X connect 15 0 0 1;
#X connect 15 0 2 1;
#X connect 16 0 15 0;
#X connect 17 0 1 1;
#X connect 18 0 17 0;
#X connect 18 1 17 1;
#X connect 19 0 10 0;
#X connect 19 1 11 0;
#X connect 20 0 19 0;
#X connect 21 0 18 0;
#X connect 21 0 20 0;
#X connect 22 0 16 0;
#X connect 22 0 20 0;
#X connect 23 0 4 1;
#X connect 24 0 20 0;
#X connect 25 0 20 0;
#X connect 26 0 22 0;
#X connect 27 0 21 0;
#X connect 28 0 18 0;
#X connect 29 0 16 0;
#X restore 310 206 pd calculateGraph;
#N canvas 0 50 450 278 (subpatch) 0;
#X array \$0-curve 100 float 0;
#X coords 0 1 99 0 100 70 2 0 0;
#X restore 106 140 graph;
#X floatatom 214 141 5 -100 0 3 Thresh comp/t #0-thresh;
#X floatatom 259 141 5 1 100 3 Ratio comp/r #0-ratio;
#X floatatom 214 179 5 0 250 3 Resp comp/re #0-response;
#X floatatom 257 179 5 -80 20 3 Gain comp/g #0-gain;
#X text 28 18 PD Lookahead Compressor, f 13;
#N canvas 976 146 749 601 compressor1Core 0;
#X obj 85 495 outlet~;
#X obj 80 461 *~;
#X obj 426 104 /;
#X obj 426 82 swap 1;
#X obj 380 277 /;
#X obj 380 255 swap 1000;
#X obj 247 326 lop~;
#X obj 248 290 clip~ 0 1;
#X obj 426 444 line~;
#X obj 434 412 pack f 5;
#X obj 79 27 inlet~;
#X obj 434 367 + 100;
#X obj 434 390 dbtorms;
#X text 169 287 Clip signal;
#X text 92 327 Attack/release using LPF;
#X text 112 464 Make-up gain;
#X text 416 275 convert ms to frequency;
#X text 421 313 convert dBFS scale to Pd dB scale, f 18;
#X text 218 29 Convert dB FS to Pd db sclae and then linear amplitude
, f 15;
#X obj 426 61 r \$0-ratio;
#X obj 380 231 r \$0-response;
#X obj 434 345 r \$0-gain;
#X floatatom 384 416 5 0 0 0 - - -;
#X text 424 40 1/ratio, f 8;
#X obj 587 29 inlet;
#X obj 587 70 switch~;
#X obj 588 50 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 426 126 5 0 0 0 - - -;
#X floatatom 380 298 5 0 0 0 - - -;
#X obj 324 28 r \$0-thresh;
#X obj 221 115 abs~;
#X obj 210 201 +~;
#X obj 243 239 /~;
#X obj 283 183 +~ 0;
#X text 185 113 Peak;
#X obj 324 54 + 100;
#X obj 324 82 dbtorms;
#X floatatom 324 110 5 0 0 0 - - -;
#X obj 210 157 -~;
#X obj 210 179 *~;
#X obj 80 426 *~;
#X connect 1 0 0 0;
#X connect 2 0 27 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 4 0 28 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 6 0 40 1;
#X connect 7 0 6 0;
#X connect 8 0 1 1;
#X connect 9 0 8 0;
#X connect 10 0 30 0;
#X connect 10 0 40 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 12 0 22 0;
#X connect 19 0 3 0;
#X connect 20 0 5 0;
#X connect 21 0 11 0;
#X connect 24 0 26 0;
#X connect 26 0 25 0;
#X connect 27 0 39 1;
#X connect 28 0 6 1;
#X connect 29 0 35 0;
#X connect 30 0 33 0;
#X connect 30 0 38 0;
#X connect 31 0 32 0;
#X connect 32 0 7 0;
#X connect 33 0 32 1;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 31 1;
#X connect 37 0 38 1;
#X connect 38 0 39 0;
#X connect 39 0 31 0;
#X connect 40 0 1 0;
#X restore 128 312 pd compressor1Core;
#X obj 34 239 inlet~;
#X obj 74 375 outlet~;
#X obj 270 106 tgl 20 1 empty comp/state 10 -22 11 0 16 -262144 -1
-1 0 1;
#X msg 200 70 0;
#X obj 74 350 sw2;
#X obj 345 105 s comp/t;
#X obj 408 107 s comp/r;
#X obj 472 105 s comp/re;
#X obj 546 102 s comp/g;
#X msg 308 50 threshold -2 \, ratio 2 \, response 40 \, gain 0;
#X obj 353 77 route threshold ratio response gain;
#X connect 0 0 18 0;
#X connect 0 0 12 0;
#X connect 8 0 13 1;
#X connect 9 0 8 0;
#X connect 9 0 13 0;
#X connect 11 0 8 1;
#X connect 11 0 13 2;
#X connect 12 0 11 0;
#X connect 13 0 10 0;
#X connect 18 0 19 0;
#X connect 19 0 14 0;
#X connect 19 1 15 0;
#X connect 19 2 16 0;
#X connect 19 3 17 0;
#X coords 0 -1 1 1 200 125 1 100 100;
